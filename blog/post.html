<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Blog 详情</title>
  <link rel="stylesheet" href="./assets/blog.css" />
</head>
<body>
  <header class="topbar">
    <a class="brand" href="./index.html">← 返回列表</a>
    <h1>Blog 详情</h1>
  </header>

  <main class="container">
    <article id="post" class="post"></article>
  </main>

  <script src="./assets/posts.js"></script>
  <script>
    const params = new URLSearchParams(window.location.search);
    const slug = params.get('slug');
    const post = posts.find((p) => p.slug === slug);
    const root = document.getElementById('post');

    if (!post) {
      root.innerHTML = '<h2>未找到文章</h2><p>请返回列表选择文章。</p>';
    } else {
      const fmt = (d) => new Date(d).toLocaleDateString('zh-CN', { year: 'numeric', month: 'short', day: 'numeric' });
      root.innerHTML = `
        <h2>${post.title}</h2>
        <p class="meta">${fmt(post.date)} · ${post.author}</p>
        <div class="content">${post.content.map((x)=>`<p>${x}</p>`).join('')}</div>
      `;
    }
  </script>
</body>
</html>
