<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>OCTest Blog</title>
  <meta name="description" content="OCTest 博客汇集 AgeTech、AI 与技术观察，用简洁结构的深度解读支撑快速迭代。">
  <meta name="keywords" content="OCTest,博客,AgeTech,AI,分析">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://waymochang.github.io/OCTest/blog/">
  <meta property="og:title" content="OCTest Blog">
  <meta property="og:description" content="OCTest 博客汇集 AgeTech、AI 与技术观察，用简洁结构的深度解读支撑快速迭代。">
  <meta property="og:url" content="https://waymochang.github.io/OCTest/blog/">
  <meta property="og:type" content="blog">
  <meta property="og:site_name" content="OCTest">
  <meta property="og:image" content="https://waymochang.github.io/OCTest/assets/og-image.png">
  <meta property="og:locale" content="zh-CN">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="OCTest Blog">
  <meta name="twitter:description" content="OCTest 博客汇集 AgeTech、AI 与技术观察，用简洁结构的深度解读支撑快速迭代。">
  <meta name="twitter:image" content="https://waymochang.github.io/OCTest/assets/og-image.png">
  <meta name="twitter:site" content="@WaymoChang">
  <link rel="stylesheet" href="./assets/blog.css" />
  <script src="../assets/seo-helper.js"></script>
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Blog",
    "url": "https://waymochang.github.io/OCTest/blog/",
    "name": "OCTest Blog",
    "description": "OCTest 博客汇集 AgeTech、AI 与技术观察，用简洁结构的深度解读支撑快速迭代。"
  }
  </script>
</head>
<body>
  <header class="topbar">
    <a class="brand" href="../index.html">← OCTest</a>
    <h1>Blog 列表</h1>
      <button id="theme-toggle" class="theme-toggle" type="button">☀️ Light</button>
  </header>

  <main class="container">
    <section class="intro">
      <p>这里是博客结构页（占位版）。你后续给我真实内容后，我会直接填进去。</p>
    </section>

    <section id="post-list" class="grid"></section>
  </main>

    <script>
    async function loadPostsData() {
      const res = await fetch(`./assets/posts.json?v=${Date.now()}`, { cache: 'no-store' });
      if (!res.ok) throw new Error('Failed to load posts.json');
      return await res.json();
    }

    (async () => {
      const list = document.getElementById('post-list');
      const fmt = (d) => new Date(d).toLocaleDateString('zh-CN', { year: 'numeric', month: 'short', day: 'numeric' });
      const posts = await loadPostsData();
      const sortedPosts = [...posts].sort((a, b) => {
        const da = new Date((a.sourceDate || a.date || '') + 'T00:00:00').getTime() || 0;
        const db = new Date((b.sourceDate || b.date || '') + 'T00:00:00').getTime() || 0;
        return db - da;
      });

      sortedPosts.forEach((p) => {
        const card = document.createElement('article');
        card.className = 'card';

        const h2 = document.createElement('h2');
        h2.textContent = p.title || '';

        const meta = document.createElement('p');
        meta.className = 'meta';
        meta.textContent = `${fmt(p.sourceDate || p.date)} · ${p.author || ''}`;

        const excerpt = document.createElement('p');
        excerpt.className = 'excerpt';
        excerpt.textContent = p.excerpt || '';

        const a = document.createElement('a');
        a.className = 'btn';
        a.href = `./post.html?slug=${encodeURIComponent(p.slug || '')}`;
        a.textContent = '阅读详情';

        card.appendChild(h2);
        card.appendChild(meta);
        card.appendChild(excerpt);
        card.appendChild(a);
        list.appendChild(card);
      });
    })();
  </script>
  <script src="../assets/theme.js"></script>
  <script src="../assets/analytics-config.js"></script>
  <script src="../assets/analytics.js"></script>
</body>
</html>
